<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Filtro de Casamento ‚Äî Jackline & Samarhony</title>

<!-- Fontes e √çcones -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
  /* Seu CSS original permanece igual */
  :root {
    --verde-principal: #8DB24D;
    --branco: #ffffff;
  }
  body { margin: 0; font-family: 'Poppins', sans-serif; background-color: var(--branco); color: #333; text-align: center; padding: 16px; }
  header { margin-top: 20px; margin-bottom: 10px; }
  h1 { font-family: 'Playfair Display', serif; font-size: 1.8em; margin-bottom: 4px; color: var(--verde-principal); }
  h2 { font-size: 1em; font-weight: 500; color: #777; margin: 0 0 16px; }
  .btn { display: inline-block; background-color: var(--verde-principal); color: var(--branco); border: none; padding: 12px 20px; border-radius: 10px; cursor: pointer; font-size: 16px; margin: 8px; transition: background 0.3s; }
  .btn:hover { background-color: #7A9B42; }
  canvas { display: block; margin: 20px auto; max-width: 90%; border-radius: 20px; box-shadow: 0 6px 20px rgba(0,0,0,0.1); }
  footer { margin-top: 30px; font-size: 0.85em; color: #777; }
  .monograma { font-family: 'Playfair Display', serif; font-size: 2.4em; font-weight: 600; letter-spacing: 3px; color: var(--verde-principal); }
  .data { font-size: 0.9em; color: #999; }
  @media (max-width: 600px) { h1 { font-size: 1.5em; } .btn { font-size: 14px; padding: 10px 14px; } }
</style>
</head>

<body>

<header>
  <div class="monograma">J & S</div>
  <h1>Jackline & Samarhony</h1>
  <h2><i class="fa-regular fa-calendar"></i> 06/12/2025</h2>
</header>

<p>Use sua foto e baixe com a moldura oficial üíç</p>

<!-- Seletor de molduras -->
<div>
  <label>Escolha a moldura:</label><br>
  <select id="molduraSelect">
    <option value="overlay1.png">Moldura Rom√¢ntica</option>
    <option value="overlay2.png">Moldura Floral</option>
    <option value="overlay3.png">Moldura Cl√°ssica</option>
  </select>
</div>

<input type="file" id="upload" accept="image/*" style="display:none;">
<button class="btn" onclick="document.getElementById('upload').click()">
  <i class="fa-solid fa-camera"></i> Escolher Foto
</button>

<canvas id="canvas"></canvas>

<a id="download" class="btn" download="foto-casamento.png" style="display:none;">
  <i class="fa-solid fa-download"></i> Baixar Imagem
</a>

<footer>
  ‚ú® Criado por Katiene Barbosa ‚ú®
</footer>

<script>
  const upload = document.getElementById('upload');
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  const download = document.getElementById('download');
  const molduraSelect = document.getElementById('molduraSelect');

  let overlay = new Image();
  overlay.crossOrigin = "anonymous"; // Necess√°rio para GitHub Pages
  overlay.src = molduraSelect.value; // Carrega moldura padr√£o

  // Trocar moldura ao selecionar
  molduraSelect.addEventListener('change', () => {
    overlay.src = molduraSelect.value;
  });

  upload.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = function (event) {
      const img = new Image();
      img.onload = function () {
        canvas.width = img.width;
        canvas.height = img.height;
        ctx.drawImage(img, 0, 0, img.width, img.height);
        overlay.onload = function(){
          ctx.drawImage(overlay, 0, 0, img.width, img.height);
          download.href = canvas.toDataURL();
          download.style.display = 'inline-block';
        };
        if (overlay.complete) {
          ctx.drawImage(overlay, 0, 0, img.width, img.height);
          download.href = canvas.toDataURL();
          download.style.display = 'inline-block';
        }
      };
      img.src = event.target.result;
    };
    reader.readAsDataURL(file);
  });
</script>
</body>
</html>
